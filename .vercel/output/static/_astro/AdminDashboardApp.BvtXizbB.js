import{u as i,a as r,b as d,j as e,C as c,c as p}from"./api.dMCnM2hZ.js";import"./index.DYrVU9rO.js";const x={paid:"bg-yellow-500/20 text-yellow-400 border-yellow-700",dropped_off:"bg-blue-500/20 text-blue-400 border-blue-700",in_progress:"bg-purple-500/20 text-purple-400 border-purple-700",ready_for_pickup:"bg-green-500/20 text-green-400 border-green-700",completed:"bg-slate-500/20 text-slate-400 border-slate-700"};function u(s){switch(s){case"dropped_off":return{label:"Start Working",nextStatus:"in_progress"};case"in_progress":return{label:"Mark Ready",nextStatus:"ready_for_pickup"};case"ready_for_pickup":return{label:"Complete",nextStatus:"completed"};default:return null}}function m(){const s=i(r.orders.getActiveOrders),l=d(r.orders.updateOrderStatus);if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-8",children:e.jsx("div",{className:"text-white text-2xl",children:"Loading..."})});const n=async(t,a)=>{try{await l({orderId:t,newStatus:a})}catch(o){console.error("Failed to update status:",o),alert("Failed to update status. Please try again.")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-white",children:"Admin Dashboard"}),e.jsx("a",{href:"/internal/inventory",className:"px-4 py-2 bg-slate-700 text-white rounded-lg hover:bg-slate-600 transition-colors",children:"Manage Inventory"})]}),s.length===0?e.jsx("div",{className:"text-center text-slate-400 text-xl mt-16",children:"No orders yet. LFG! ðŸš€"}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:s.map(t=>{const a=u(t.status);return e.jsxs("div",{className:"bg-slate-800 border-2 border-slate-700 p-6 rounded-2xl hover:border-purple-500/50 transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:t.customerName}),e.jsx("span",{className:`px-3 py-1 border rounded-full text-xs font-bold uppercase ${x[t.status]}`,children:t.status.replace("_"," ")})]}),e.jsx("p",{className:"text-slate-400 mb-4",children:t.itemDescription}),e.jsxs("div",{className:"bg-black/30 p-4 rounded-lg mb-4",children:[e.jsx("span",{className:"text-xs text-slate-500 block uppercase mb-1",children:"Pickup Code"}),e.jsx("span",{className:"text-3xl font-mono text-pink-500 tracking-widest font-bold",children:t.pickupCode})]}),a&&e.jsx("button",{onClick:()=>n(t._id,a.nextStatus),className:"w-full py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold rounded-lg hover:opacity-90 transition-opacity",children:a.label}),t.status==="completed"&&e.jsx("div",{className:"text-center text-slate-500 py-3",children:"âœ“ Completed"})]},t._id)})})]})})}const b=new c("https://kindly-beagle-851.convex.cloud");function f(){return e.jsx(p,{client:b,children:e.jsx(m,{})})}export{f as default};
